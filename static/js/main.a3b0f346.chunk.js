(this["webpackJsonpdrag-and-drop-taskboard"]=this["webpackJsonpdrag-and-drop-taskboard"]||[]).push([[0],{373:function(e,t,n){"use strict";n.r(t);var i,r=n(0),a=n.n(r),c=n(21),o=n.n(c),s=n(45),l=n(378),u=n(130),d=n.n(u),j=n(46),b=n(64),O={primary:b.geekblue},f=n(2),g=n(6),h=n(7),p=n(90),v=n(129);!function(e){e.TO_DO="To Do",e.IN_PROGRESS="In Progress",e.DONE="Done"}(i||(i={}));var m=n(377),x=n(381),D=n(380),y=n(8);var w=function(e){var t=e.visible,n=e.initialValues,i=e.onCancel,a=e.onOk,c=m.a.useForm(),o=Object(g.a)(c,1)[0],s=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;t&&(null===(e=s.current)||void 0===e||e.focus(),o.resetFields())}),[o,t]),Object(y.jsx)(x.a,{title:"Add Item",visible:t,destroyOnClose:!0,forceRender:!0,onCancel:i,onOk:function(){return o.submit()},children:Object(y.jsxs)(m.a,{autoComplete:"off",form:o,layout:"vertical",initialValues:n,onFinish:function(e){a(e),o.resetFields(),i()},children:[Object(y.jsx)(m.a.Item,{name:"title",label:"Title",rules:[{required:!0,message:"'Title' is required"},{max:100,message:"'Title' can not be longer than 100 characters"}],children:Object(y.jsx)(D.a,{ref:s,autoFocus:!0})}),Object(y.jsx)(m.a.Item,{name:"description",label:"Description",rules:[{required:!0,message:"'Description' is required"},{max:400,message:"'Description' can not be longer than 400 characters"}],children:Object(y.jsx)(D.a.TextArea,{rows:4})})]})})},k=n(376),T=n(51),E=n(379),I=n(382),S=n(201),C=n(383),F=n(384),P=n(63);var R,A,N,_=function(e){return Object(y.jsx)(P.a,Object(f.a)({mouseEnterDelay:1.5},e))},q=Object(j.a)(k.a)(R||(R=Object(s.a)(["\n  margin: 0.5rem;\n  padding: 0.5rem;\n  background-color: ",";\n"])),(function(e){return e.$isDragging?"#fafafa":"#fff"})),J=Object(j.a)(l.a.Title)(A||(A=Object(s.a)(['\n  white-space: pre-wrap;\n  // To make ellipsis of the title visible.\n  // Without this margin, it can be go behind the "extra" component.\n  // So, we give it a little space.\n  margin-right: 0.25rem;\n']))),L=Object(j.a)(E.a.Item)(N||(N=Object(s.a)(["\n  color: ",";\n"])),b.red.primary);var z,B,M=function(e){var t=e.item,n=e.status,i=e.isDragging,r=e.onEdit,a=e.onDelete;return Object(y.jsx)(q,{$isDragging:i,size:"small",title:Object(y.jsx)(_,{overlay:t.title,children:Object(y.jsx)("span",{children:Object(y.jsx)(J,{level:5,ellipsis:{rows:2},children:t.title})})}),extra:Object(y.jsx)(I.a,{overlay:Object(y.jsxs)(E.a,{children:[Object(y.jsx)(E.a.Item,{icon:Object(y.jsx)(S.a,{}),onClick:function(){return r(t)},children:"Edit"}),Object(y.jsx)(L,{icon:Object(y.jsx)(C.a,{}),onClick:function(){return x.a.confirm({title:"Delete?",content:'Are you sure to delete "'.concat(t.title,'"?'),onOk:function(){return a({status:n,itemToDelete:t})}})},children:"Delete"})]}),trigger:["click"],children:Object(y.jsx)(T.a,{size:"small",icon:Object(y.jsx)(F.a,{})})}),children:Object(y.jsx)(_,{overlay:t.description,children:Object(y.jsx)(l.a.Paragraph,{type:"secondary",ellipsis:{rows:2},children:t.description})})})},V=Object(j.a)(k.a)(z||(z=Object(s.a)(["\n  user-select: none;\n  flex: 1;\n  margin: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  // To force each flex item to have equal width\n  // even if they have long texts with no spaces etc.\n  min-width: 0;\n  > .ant-card-body {\n    overflow: hidden;\n    height: 100%;\n    padding: 0;\n  }\n"]))),G=j.a.div(B||(B=Object(s.a)(["\n  height: 100%;\n  overflow-y: auto;\n  background-color: ",";\n"])),(function(e){return e.isDraggingOver?O.primary[2]:O.primary[1]}));var H,W,$,K=function(e){var t=e.items,n=e.status,i=e.onClickAdd,r=e.onEdit,a=e.onDelete;return Object(y.jsx)(V,{title:"".concat(n," (").concat(t.length,")"),extra:i&&Object(y.jsx)(T.a,{type:"primary",onClick:i,children:"Add"}),children:Object(y.jsx)(p.c,{droppableId:n,children:function(e,i){return Object(y.jsxs)(G,Object(f.a)(Object(f.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:i.isDraggingOver,children:[t.map((function(e,t){return Object(y.jsx)(p.b,{draggableId:e.id,index:t,children:function(t,i){return Object(y.jsx)("div",Object(f.a)(Object(f.a)(Object(f.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(y.jsx)(M,{item:e,status:n,isDragging:i.isDragging,onEdit:r,onDelete:a})}),e.id)}},e.id)})),e.placeholder]}))}})})},Q=n(195);var U=j.a.div(H||(H=Object(s.a)(["\n  min-height: 0;\n  height: 100%;\n  min-width: 800px;\n  max-width: 1400px;\n  margin: auto;\n"]))),X=j.a.div(W||(W=Object(s.a)(["\n  height: 100%;\n  padding: 0.5rem;\n  display: flex;\n  justify-content: space-around;\n"]))),Y=($={},Object(h.a)($,i.TO_DO,[]),Object(h.a)($,i.IN_PROGRESS,[]),Object(h.a)($,i.DONE,[]),$);var Z,ee,te,ne=function(){var e=function(e,t){var n=Object(r.useCallback)((function(){var n;return null!==(n=Object(Q.a)((function(){var t;return JSON.parse(null!==(t=localStorage.getItem(e))&&void 0!==t?t:"")})).data)&&void 0!==n?n:t}),[t,e]),i=Object(r.useState)((function(){return n()})),a=Object(g.a)(i,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){function e(){o(n)}return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[n]),Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(c))}),[e,c]),[c,o]}("itemsByStatus",Y),t=Object(g.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(g.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)(null),d=Object(g.a)(u,2),j=d[0],b=d[1],O=function(e){b(e),l(!0)},h=function(e){var t=e.status,n=e.itemToDelete;return a((function(e){return Object(v.a)(e,(function(e){e[t]=e[t].filter((function(e){return e.id!==n.id}))}))}))},m=Object(r.useMemo)((function(){var e,t;return{title:null!==(e=null===j||void 0===j?void 0:j.title)&&void 0!==e?e:"",description:null!==(t=null===j||void 0===j?void 0:j.description)&&void 0!==t?t:""}}),[j]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{onDragEnd:function(e){var t=e.source,n=e.destination;a((function(e){return Object(v.a)(e,(function(e){if(n){var i=e[t.droppableId].splice(t.index,1),r=Object(g.a)(i,1)[0];e[n.droppableId].splice(n.index,0,r)}}))}))},children:Object(y.jsx)(U,{children:Object(y.jsx)(X,{children:Object.values(i).map((function(e){return Object(y.jsx)(K,{status:e,items:n[e],onClickAdd:e===i.TO_DO?function(){return O(null)}:void 0,onEdit:O,onDelete:h},e)}))})})}),Object(y.jsx)(w,{visible:s,onCancel:function(){b(null),l(!1)},onOk:function(e){a((function(t){return Object(v.a)(t,(function(t){if(j){var n=Object.values(t).flatMap((function(e){return e})).find((function(e){return e.id===j.id}));n&&(n.title=e.title,n.description=e.description)}else t[i.TO_DO].push(Object(f.a)(Object(f.a)({},e),{},{id:Date.now().toString()}))}))}))},initialValues:m})]})},ie=Object(j.a)(d.a)(Z||(Z=Object(s.a)(['\n  /* We can\'t use "height: 100vh; width: 100vw;" here.\n  Otherwise, when there is a horizontal scrollbar etc, \n  because that we set a constant height, there will be a vertical one too.  */\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n']))),re=Object(j.a)(u.Header)(ee||(ee=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n"]))),ae=Object(j.a)(u.Content)(te||(te=Object(s.a)(["\n  background-color: ",";\n"])),O.primary[6]);var ce=function(){return Object(y.jsxs)(ie,{children:[Object(y.jsx)(re,{children:Object(y.jsx)(l.a.Title,{level:3,type:"secondary",children:"Drag & Drop Taskboard"})}),Object(y.jsx)(ae,{children:Object(y.jsx)(ne,{})})]})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,385)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),a(e),c(e)}))};n(372);o.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(ce,{})}),document.getElementById("root")),oe()}},[[373,1,2]]]);
//# sourceMappingURL=main.a3b0f346.chunk.js.map